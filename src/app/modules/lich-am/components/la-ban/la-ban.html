<div class="wrap">
  <div class="compass-area">
    <div class="compass" id="compass">
      <svg viewBox="-100 -100 200 200" id="compassSvg">
        <circle cx="0" cy="0" r="98" fill="rgba(255,255,255,0.02)" />

        <g id="ticks"></g>

        <!-- la bàn -->
        <text x="0" y="-82" text-anchor="middle" font-size="10" fill="#fff">N</text>
        <text x="78" y="5" text-anchor="middle" font-size="10" fill="#fff">E</text>
        <text x="0" y="90" text-anchor="middle" font-size="10" fill="#fff">S</text>
        <text x="-78" y="5" text-anchor="middle" font-size="10" fill="#fff">W</text>
      </svg>

      <div
        id="needle"
        class="needle"
        [style.transform]="'translate(-50%,-100%) rotate(' + currentHeading + 'deg)'"
      >
        <svg viewBox="0 0 10 100">
          <polygon points="5,0 10,30 5,22 0,30" fill="#ffd166"></polygon>
          <rect x="4" y="30" width="2" height="70" fill="#ffd166"></rect>
        </svg>
      </div>

      <div class="center-dot"></div>
    </div>
  </div>

  <div class="panel">
    <div class="deg">{{ currentHeading | number : '1.0-0' }}°</div>
    <div class="dir">{{ getDirectionName(currentHeading) }}</div>
    <div class="fs-name">Phong thủy: {{ fengShuiMap[getNearestSector(currentHeading)] }}</div>

    <button (click)="enableSensor()">Dùng cảm biến</button>
    <button (click)="reset()">Đặt lại</button>

    <div class="mapping">
      <div *ngFor="let c of sectorCenters">
        <input [(ngModel)]="fengShuiMap[c]" />
      </div>
    </div>
  </div>
</div>
